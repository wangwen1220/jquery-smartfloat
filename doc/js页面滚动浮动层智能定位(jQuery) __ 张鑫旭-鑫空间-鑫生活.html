<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<head>

<meta http-equiv="description" content="js页面滚动浮动层智能定位(jQuery) >> 张鑫旭-鑫空间-鑫生活">
<meta name="description" content="张鑫旭web前端学习实例页面">
<meta name="keywords" content="张鑫旭,张鑫旭-鑫空间-鑫生活,web前端,css,jQuery,javascript,demo页面">
<meta name="author" content="张鑫旭,zhangxixnu">
<title>js页面滚动浮动层智能定位(jQuery) &gt;&gt; 张鑫旭-鑫空间-鑫生活</title>
<link rel="stylesheet" href="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/demo0000.css" type="text/css">
<link rel="stylesheet" href="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/hl000000.css" type="text/css">
<style>
.demo{height:1500px;}
.float{width:60px; padding:10px; border:1px solid #ffecb0; background-color:#fffee0; -moz-box-shadow:1px 1px 2px rgba(0,0,0,.2); -webkit-box-shadow:1px 1px 2px rgba(0,0,0,.2); box-shadow:1px 1px 2px rgba(0,0,0,.2); position:absolute; right:10%; top:131px;}
</style>
</head>

<body>
<div id="header">
	<a href="http://www.zhangxinxu.com/" class="logo" title="回到鑫空间-鑫生活首页">
    	<img src="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/zxx_home.png" border="0">
    </a>
</div>
<div id="main">
	<h1>js页面滚动浮动层智能定位(jQuery)实例页面</h1>
    <div id="body" class="light">
    	<div id="content" class="show">
        	<h3>代码</h3>
            <div class="article_new"><a href="http://www.zhangxinxu.com/wordpress/?p=1242">回到相关文章 &gt;&gt;</a></div>
            <div class="demo">
                <h5>HTML代码：</h5>
                <pre name="code" class="html">
&lt;div class="float" id="float"&gt;
    我是个腼腆羞涩的浮动层...
&lt;/div&gt;
                </pre>
                <h5>JS代码：</h5>
                <pre name="code" class="js">
$.fn.smartFloat = function() {
    var position = function(element) {
        var top = element.position().top, pos = element.css("position");
        $(window).scroll(function() {
            var scrolls = $(this).scrollTop();
            if (scrolls &gt; top) {
                if (window.XMLHttpRequest) {
                    element.css({
                        position: "fixed",
                        top: 0
                    });
                } else {
                    element.css({
                        top: scrolls
                    });
                }
            }else {
                element.css({
                    position: "absolute",
                    top: top
                });
            }
        });
    };
    return $(this).each(function() {
        position($(this));
    });
};

//绑定
$("#float").smartFloat();
                </pre>
            </div>
        </div>
    </div>
</div>
<div class="float" id="float">
	我是个腼腆羞涩的浮动层<img src="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/60000000.gif" title="含羞">，你可以轻轻地<a href="http://www.zhangxinxu.com/php/regist.php">点击我</a>(去注册页)。
</div>
<script type="text/javascript" src="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/hl_all00.js"></script>
<script type="text/javascript">
	DlHighlight.HELPERS.highlightByName("code", "pre");//<pre>标签添加属性name="code"以及class="LANG" (LANG可以是"js", "css", "xml" and "html")
</script>
<script type="text/javascript" src="js页面滚动浮动层智能定位%28jQuery%29%20__%20张鑫旭-鑫空间-鑫生活_files/jquery00.js"></script>
<script>
$.fn.smartFloat = function() {
	var position = function(element) {
		var top = element.position().top, pos = element.css("position");
		$(window).scroll(function() {
			var scrolls = $(this).scrollTop();
			if (scrolls > top) {
				if (window.XMLHttpRequest) {
					element.css({
						position: "fixed",
						top: 0
					});
				} else {
					element.css({
						top: scrolls
					});
				}
			}else {
				element.css({
					position: pos,
					top: top
				});
			}
		});
	};
	return $(this).each(function() {
		position($(this));
	});
};

//绑定
$("#float").smartFloat();
</script>
<div id="footer">
    Designed &amp; Powerd by <a href="http://www.zhangxinxu.com/">zhangxinxu</a><br>
    Copyright© 张鑫旭-鑫空间-鑫生活<br>
    <a href="http://www.miibeian.gov.cn/" target="_blank">鄂ICP备09015569号</a>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11205167-1']);
  _gaq.push(['_trackPageview']);

  (function() {
	var ga = document.createElement('script');
	 ga.type = 'text/javascript';
	 ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</div>
<div id="ad">
	<script type="text/javascript">	google_ad_client = "pub-0090627341039040";google_ad_slot = "2041257798";google_ad_width = 468;google_ad_height = 60;</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
</div>
</body>
</html>

<!-- This document saved from http://www.zhangxinxu.com/study/201011/smart-float-by-jquery.html -->
